{% extends 'Administrador/_common/base.html' %}
{% load static %}
{% block main %}
    <section>

        <div id="sectionAgregarProductor" class="container row">
            <div class="col-md-2 col-sm-1"></div>
            <div id="AgregarProductor" class="col-md-8 col-sm-11 row">
                <div id="headerPopUp" class="col-md-12">
                    <h2>Editar un Productor</h2>
                </div>

                <div id="seccionNombre" class="col-md-12 row secciones">
                    <strong class="col-md-6 col-sm-12">Nombres</strong>
                    <input type="text" id="inputNombreActualizar" class="col-md-6 col-sm-12 form-control" value="{{ Productor.nombre }}" >
                </div>

                <div id="seccionDireccion" class="col-md-12 row secciones">
                    <strong class="col-md-6 col-sm-12">Dirección</strong>
                    <input type="text" id="inputDireccionActualizar" class="col-md-6 col-sm-12 form-control" value="{{ Productor.direccion }}">
                </div>

                <div id="seccionDescripcionProductor" class="col-md-12 row secciones">
                    <strong class="col-md-6 col-sm-12">Descripción del Productor</strong>
                    <textarea id="inputDescripcionProductorActualizar" class="col-md-6 col-sm-12 form-control" rows="4"> {{ Productor.descripcion }}</textarea>
                </div>

                <div id="seccionSeleccionarUbicacion" class="col-md-12 row secciones">
                    <strong class="col-md-6 col-sm-12">Defina la ubicación de la finca del productor</strong>
                    <div class="col-md-6 col-sm-12 row" style="margin-left: 0px;margin-right: 0px;">
                        <button onclick="verMapa();" class="col-md-6 col-sm-12 btn btn-success" type="button">Mapa</button>
                        <p id="coordenadasMapa" class="col-md-6" style="line-height: 45px; margin-bottom: 0px !important;">
                            {{ Productor.coordenadas_gps }}
                        </p>
                    </div>
                </div>
                <div id="seccionAgregarProductor" class="col-md-12 row secciones" style="margin-top: 40px;">
                    <div class="col-md-3 col-sm-1"></div>
                    <button onclick="ActualizarProductor( {{ Productor.id }} );" type="button" class="col-md-6 col-sm-11 btn btn-primary">Actualizar Productor</button>
                    <div class="col-md-3 col-sm-1"></div>
                </div>
            </div>
            <div class="col-md-2 col-sm-1"></div>
        </div>
        <div id="sectionMapa">
            <div class="popUpMapa container">
                <div class="headerPopUpDescripcion row">
                    <h3 id="" class="col-md-12" style="font-weight: bold;margin-top: 5px; text-align: center;">
                        Selecciona la ubicación de la finca en el mapa.
                    </h3>
                    <a id="cerrarPopUpDetalleProducto" class="close-btn popup-close">x</a>
                </div>
                <div class="bodyPopUpDescripcion col-md-12 row" style="margin-left: 0; margin-right: 0;">
                    <div id="mapa">
                    </div>
                    <button type="button" onclick="seleccionarUbicacion();" class="btn btn-primary" style="position: absolute; top: 5px; left: 21px;">Seleccionar Ubicación</button>
                </div>
            </div>
        </div>
        <div id="sectionLoading">
            <img id="loadingIcon" src="{% static  '/images/loading.gif' %}">
        </div>
    </section>
{% endblock %}
{% block scripts %}
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBW8AoH_Jh_QtuL0d-BC0RUAIMckKEZYiM"
    async defer></script>
    <script src="{% static 'Administrador/productores/js/productores.js' %}"></script>
    <script>
        var coordenadas = '{{ Productor.coordenadas_gps }}'.split(',');
        latSelect = coordenadas[0];
        longSelect = coordenadas[1];
    </script>
{% endblock %}
{% block styles %}
    <link href="{% static 'Administrador/styles.css' %}" rel="stylesheet">
{% endblock %}